# In the excel file, the order of items in confusion matrix is showing items in columns first
# |
# |
# \/
# And then go to the column next to the current one

# install and load libraries
# install.packages("ggplot2")
# install.packages("Hmisc")
# install.packages("tidyverse")
# install.packages("rstudioapi")
# install.packages("xgboost")
# install.packages("randomForest")
# install.packages("VGAM")
# install.packages("class")
# install.packages("e1071")
# install.packages("caret")
# install.packages("gplots")
# install.packages("MLmetrics")
# install.packages('plsgenomics')
# install.packages("readxl")
# install.packages("writexl")

libraries <- c("rstudioapi", "Hmisc", "ggplot2", "tidyverse", "randomForest", "xgboost", "VGAM", "class", "e1071", "plsgenomics", "caret", "readxl", "writexl")
lapply(libraries, library, character.only = TRUE)

set.seed(42)

# set wd and load data
setwd(dirname(rstudioapi::getSourceEditorContext()$path))
df <- read_excel("features_model_result.xlsx")

df$Features_Nr <- as.numeric(df$Features_Nr)
df$F1_Score <- as.numeric(df$F1_Score)

result_a <- df %>%
  filter((Model_Used == 'logistic_regression') & (Y_Feature == 'Freshness'))

result_b <- df %>%
  filter((Model_Used == 'logistic_regression') & (Y_Feature == 'Production_system'))

result_a$Scan_Type <- as.factor(result_a$Scan_Type)
plot(result_a$Features_Nr, result_a$F1_Score, type = 'l', col = result_a$Scan_Type)

# ggplot(data = result_a, aes(Features_Nr, F1_Score, group = Scan_Type, color = Scan_Type)) +
#   geom_path() +
#   labs(x = "Number of Selected Features", y = "F1 Score", color = "Scan Type")
